/* ====== THEME HOOKS (uses your existing tokens) ====== */
:root {
  /* Sidebar widths */
  --sb-w: 260px;
  --sb-w-mini: 74px;

  /* Sidebar background (blue gradient feel) */
  --sb-bg: #0a1a3f;            /* deep navy blue */
  --sb-bg-2: #102a56;          /* slightly lighter blue */

  /* Text colors */
  --sb-text: #cbd5e1;          /* slate-300 (readable light text) */
  --sb-muted: #93c5fd;         /* blue-300 for muted items */
  --sb-active: #ffffff;        /* pure white for active labels */

  /* Borders + highlights */
  --sb-border: #3b82f6;        /* blue-500 (active border highlight) */
  --sb-ring:  #2563eb;         /* blue-600 (focus ring, matches primary) */

  /* Shadow */
  --sb-shadow: 0 16px 40px rgba(37, 99, 235, .45);
}


/* ====== LAYOUT ====== */
.rsb{
  position: sticky; top:0; left:0;
  height: 100dvh;
  width: var(--sb-w);
  background: linear-gradient(180deg, var(--sb-bg), var(--sb-bg-2));
  color: var(--sb-text);
  border-right: 1px solid var(--sb-border);
  box-shadow: var(--sb-shadow);
  display: grid;
  grid-template-rows: auto 1fr;
  z-index: 30;
  transition: width .18s ease, transform .3s ease;
}

/* collapsed (desktop mini mode) */
.rsb.rsb--mini{ width: var(--sb-w-mini); }

/* ====== TOP BAR ====== */
.rsb-top{
  display:flex; align-items:center; justify-content:space-between;
  padding: 10px 10px 6px 12px;
  border-bottom: 1px solid var(--sb-border);
}
.rsb-burger{
  display:grid; gap:3px; background:transparent; border:0; cursor:pointer;
}
.rsb-burger span{
  width: 18px; height:2px; background:#94a3b8; border-radius:2px;
  transition: transform .15s ease, background .2s ease;
}
.rsb-burger:focus-visible{ outline: 3px solid var(--sb-ring); border-radius: 8px; }
.rsb-burger:hover span{ background:#e2e8f0; }
.rsb-close{
  font-size: 18px; line-height: 1; background:transparent; color:#94a3b8;
  border:0; cursor:pointer; padding:4px 6px; border-radius:8px;
  transition: background .2s ease, color .2s ease;
}
.rsb-close:hover{ color:#e2e8f0; background: rgba(255,255,255,.06); }
.rsb--mini .rsb-close{ display:none; }

/* ====== NAV ====== */
.rsb-nav{
  overflow:auto;
  padding: 8px 10px 14px;
  scrollbar-width: thin;
  scrollbar-color: #334155 transparent;
}
.rsb-nav::-webkit-scrollbar{ width:8px; }
.rsb-nav::-webkit-scrollbar-thumb{ background:#334155; border-radius:8px; }

/* top-level items */
.rsb-item{
  display:flex; align-items:center; gap:10px;
  padding: 10px 10px; border-radius: 10px;
  color: var(--sb-text); text-decoration:none;
  transition: background .15s ease, color .15s ease, transform .06s ease;
  user-select:none;
}
.rsb-item:hover{ background: rgba(255,255,255,.06); color:#f8fafc; }
.rsb-item:active{ transform: translateY(1px) scale(.995); }

/* icon bubble */
.rsb-ico{
  display:grid; place-items:center;
  width: 34px; height: 34px;
  border-radius: 10px;
  background: rgba(148,163,184,.12);
  border: 1px solid rgba(148,163,184,.18);
  font-size: 18px;
}

/* label */
.rsb-lbl{ font-weight: 700; letter-spacing:.1px; }

/* caret (for sections with children) */
.rsb-parent{ position: relative; }
.rsb-parent .rsb-caret{
  margin-left:auto; font-size: 12px; opacity:.8; transition: transform .18s ease;
}
.rsb-parent .rsb-caret.open{ transform: rotate(180deg); }

/* active link */
.rsb-item.active{
  background: linear-gradient(90deg, rgba(37,99,235,.25), rgba(147,51,234,.20));
  color: var(--sb-active);
  border: 1px solid rgba(59,130,246,.35);
  box-shadow: inset 0 0 0 1px rgba(59,130,246,.12);
}

/* collapsed: hide labels & carets, keep icons centered */
.rsb.rsb--mini .rsb-lbl,
.rsb.rsb--mini .rsb-caret{ display:none; }
.rsb.rsb--mini .rsb-item{ justify-content:center; }

/* ====== SUB NAV ====== */
.rsb-sub{
  margin: 4px 0 8px 44px;
  display:grid; gap: 4px;
  border-left: 1px dashed rgba(148,163,184,.25);
  padding-left: 10px;
}
.rsb-subitem{
  color: var(--sb-muted); text-decoration:none;
  padding: 8px 10px; border-radius: 8px;
  transition: color .15s ease, background .15s ease, transform .06s ease;
  font-weight: 600;
}
.rsb-subitem:hover{ color:#e2e8f0; background: rgba(255,255,255,.06); }
.rsb-subitem.active{
  color:#e2e8f0;
  background: rgba(37,99,235,.20);
  border: 1px solid rgba(59,130,246,.30);
}
.rsb.rsb--mini .rsb-sub{ display:none; }

/* ====== MOBILE DRAWER ====== */
@media (max-width: 1024px){
  /* off-canvas by default */
  .rsb{
    position: fixed; inset: 0 auto 0 0;
    transform: translateX(-100%);
    width: min(86vw, 320px);
    border-right: 1px solid var(--sb-border);
  }
  /* slide in when .open is present */
  .rsb.open{ transform: translateX(0); }

  /* overlay (create this element next to .rsb when open) */
  .rsb-overlay{
    position: fixed; inset: 0;
    background: rgba(2,6,23,.55);
    backdrop-filter: blur(2px);
    z-index: 29;
    animation: overlayIn .2s ease-out both;
  }

  /* hide collapse mini mode on mobile (drawer only) */
  .rsb.rsb--mini{ width: min(86vw, 320px); }
}

/* ====== FOCUS STATES ====== */
.rsb-item:focus-visible,
.rsb-subitem:focus-visible,
.rsb-close:focus-visible{
  outline: 3px solid var(--sb-ring);
  outline-offset: 2px;
}

/* ====== ANIMATIONS ====== */
@keyframes overlayIn{ from{opacity:0} to{opacity:1} }
